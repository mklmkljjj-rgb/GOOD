# 러닝 일지 + Garmin OCR 자동입력 + RPG 성장 웹앱

> iOS/Swift 개발은 중단했고, 현재 저장소의 메인은 브라우저에서 실행하는 정적 웹앱입니다.

## 파일 구조
- `index.html`: 전체 UI 레이아웃
- `styles.css`: 화면 스타일
- `app.js`: OCR/파싱/저장/분석/EXP/레벨/스탯/계획 로직
- `README.md`: 사용법

## 주요 기능
1. **이번 달 요약**
   - 총 거리, 총 시간, 평균 페이스, 훈련 횟수
   - 레벨/누적 EXP/레벨 진행도
   - 최근 30일 평균 페이스/평균 심박
2. **Garmin OCR 자동입력**
   - 이미지 업로드 → OCR 진행률 표시
   - OCR 텍스트 확인/수정 후 재파싱
   - 거리/시간/페이스/평균심박/칼로리 추출 시도
   - 실패 항목 경고 표시
3. **수동 입력 + 기록 저장**
   - 날짜, 거리, 시간, 심박, 칼로리, 메모
   - 훈련유형 자동분류(또는 수동 지정)
4. **기록 리스트 관리**
   - 정렬(최신/날짜/거리/페이스/EXP)
   - 수정/삭제
5. **RPG 진행 시스템 (퀘스트 없음)**
   - EXP: 1km=10 + 강도/효율/회복 보정 - 과훈련 패널티
   - 레벨업 필요 EXP 점증
   - 스탯(지구력/스피드/회복력/일관성) 0~100 + Lv.1~10
   - 최근 패턴 기반 빌드 요약 문구
6. **월간 훈련 계획**
   - 주 5~6회 기반 템플릿 자동 생성
   - 캘린더형 리스트 + 완료 체크
   - 보너스 EXP 없음(일관성 분석에만 반영)
7. **데이터 관리**
   - localStorage 자동 저장
   - JSON 내보내기/가져오기
   - CSV 내보내기
   - localStorage 초기화

## 실행 방법
### 1) 가장 간단한 실행 (더블클릭)
- `index.html` 파일을 더블클릭해서 브라우저로 엽니다.
- 대부분 기능은 동작합니다.

### 2) OCR 문제 시 로컬 서버 실행 (권장)
일부 브라우저/보안정책에서 `file://` 환경의 OCR 로딩이 제한될 수 있습니다.

```bash
python -m http.server 8000
```

이후 브라우저에서 아래 주소 열기:
- `http://localhost:8000`

## Garmin 스크린샷 인식 팁
- 거리/시간/심박 수치가 크게 보이도록 **크롭** 후 업로드
- 흐리거나 어두운 이미지는 실패율 증가
- 숫자 주변 UI 요소가 너무 많으면 오인식이 늘어남
- OCR 결과 텍스트를 직접 수정한 뒤 **재파싱** 버튼 사용

## 저장/복원
- 새로고침해도 데이터는 `localStorage`에 유지됩니다.
- PC 교체/백업 시 JSON 내보내기 사용

## 문제 해결
- OCR 버튼 눌러도 시작 안 됨:
  - 인터넷 연결 확인(CDN 로딩 필요)
  - `python -m http.server`로 열기
- 파싱 누락 발생:
  - OCR 텍스트 직접 수정 후 재파싱
  - 숫자/단위(예: km, bpm, kcal) 포함되게 편집
- 데이터가 꼬였을 때:
  - JSON 백업 후 localStorage 초기화
